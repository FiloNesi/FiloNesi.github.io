<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Correcci√≥n: San Agust√≠n ‚Äì Hannah Arendt</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: linear-gradient(135deg, #f8fafc 0%, #fdf2f8 100%); min-height: 100vh; }
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useCallback } = React;

const SECTIONS = [
  {
    id: "accion_natalidad",
    title: "1. La acci√≥n como facultad de iniciar algo nuevo (natalidad)",
    maxPoints: 2.0,
    items: [
      { id: "an1", text: "Identifica que San Agust√≠n concibe el libre arbitrio como capacidad de actuar rectamente por voluntad propia, y lo relaciona con el concepto arendtiano de acci√≥n como inicio de algo nuevo (natalidad)", weight: 0.5 },
      { id: "an2", text: "Explica que para Arendt la acci√≥n es la actividad humana por excelencia: la capacidad de comenzar procesos nuevos e imprevisibles, no predeterminados", weight: 0.5 },
      { id: "an3", text: 'Se√±ala la diferencia clave: en San Agust√≠n el libre albedr√≠o tiene una finalidad predefinida (vivir rectamente / no pecar), mientras que en Arendt la acci√≥n es genuinamente abierta e impredecible', weight: 0.5 },
      { id: "an4", text: "Observa que ambos autores valoran la libertad humana como elemento constitutivo de la condici√≥n humana, aunque con fundamentos distintos (teol√≥gico vs. pol√≠tico-filos√≥fico)", weight: 0.5 },
    ],
  },
  {
    id: "libertad_pluralidad",
    title: "2. Libertad entre otros: pluralidad y mundo com√∫n",
    maxPoints: 2.0,
    items: [
      { id: "lp1", text: "Contrapone la libertad agustiniana (relaci√≥n individual con Dios, obediencia a la ley divina) con la libertad arendtiana (ejercida entre iguales en el espacio p√∫blico)", weight: 0.5 },
      { id: "lp2", text: "Explica el concepto de pluralidad en Arendt: la libertad solo es real cuando se ejerce con otros, en un mundo com√∫n compartido, no en la interioridad del alma", weight: 0.5 },
      { id: "lp3", text: "Se√±ala que en San Agust√≠n la voluntad se relaciona con Dios (pertenencia, castigo, justicia divina), mientras que en Arendt la libertad es un fen√≥meno esencialmente pol√≠tico e intersubjetivo", weight: 0.5 },
      { id: "lp4", text: "Indica que para Arendt ser libre no es elegir entre el bien y el mal (como en San Agust√≠n), sino participar activamente en los asuntos comunes y aparecer ante los dem√°s", weight: 0.5 },
    ],
  },
  {
    id: "banalidad_mal",
    title: "3. La banalidad del mal",
    maxPoints: 2.0,
    items: [
      { id: "bm1", text: "Contrapone la concepci√≥n agustiniana del pecado (uso inadecuado de la voluntad libre, desobediencia consciente a Dios) con la banalidad del mal de Arendt (el mal como ausencia de pensamiento)", weight: 0.5 },
      { id: "bm2", text: "Explica que para Arendt el mal m√°s grave no proviene de una voluntad perversa, sino de la incapacidad de pensar por uno mismo y de la obediencia irreflexiva (caso Eichmann)", weight: 0.5 },
      { id: "bm3", text: "Se√±ala que San Agust√≠n presupone un agente moral consciente que elige pecar (responsabilidad individual ante Dios), mientras que Arendt muestra que el mal puede surgir sin intenci√≥n malvada deliberada", weight: 0.5 },
      { id: "bm4", text: "Relaciona la banalidad del mal con la renuncia a la facultad de juzgar: quien no piensa ni juzga por s√≠ mismo puede cometer el mayor mal, cuestionando as√≠ el esquema agustiniano de pecado voluntario", weight: 0.5 },
    ],
  },
  {
    id: "dignidad_vida_publica",
    title: "4. Dignidad de la condici√≥n humana y vida p√∫blica",
    maxPoints: 2.0,
    items: [
      { id: "dv1", text: 'Explica que para San Agust√≠n la dignidad del hombre reside en ser creaci√≥n de Dios y en poder vivir rectamente ("el hombre mismo, en tanto que es hombre, es un bien"), con fundamento trascendente', weight: 0.5 },
      { id: "dv2", text: "Contrapone con Arendt: la dignidad humana se realiza en la vita activa ‚Äîlabor, trabajo y especialmente acci√≥n‚Äî en el espacio p√∫blico, no en la relaci√≥n privada con Dios", weight: 0.5 },
      { id: "dv3", text: "Se√±ala que Arendt distingue entre vita activa (labor, trabajo, acci√≥n) y vita contemplativa, priorizando la primera como √°mbito donde se manifiesta la condici√≥n humana plena", weight: 0.5 },
      { id: "dv4", text: "Indica que para Arendt la vida p√∫blica y la participaci√≥n pol√≠tica son el espacio donde los seres humanos revelan qui√©nes son (identidad mediante la acci√≥n y el discurso), frente al modelo agustiniano centrado en la salvaci√≥n del alma", weight: 0.5 },
    ],
  },
  {
    id: "vocabulario",
    title: "5. Vocabulario filos√≥fico preciso",
    maxPoints: 2.0,
    items: [
      { id: "v1", text: "Usa correctamente t√©rminos de San Agust√≠n: libre arbitrio/albedr√≠o, voluntad libre, pecado, vivir/actuar rectamente, justicia divina, bondad, bien, castigo", weight: 0.5 },
      { id: "v2", text: "Usa correctamente t√©rminos clave de Arendt: acci√≥n, natalidad, pluralidad, mundo com√∫n, espacio p√∫blico, banalidad del mal, vita activa", weight: 0.5 },
      { id: "v3", text: "Emplea correctamente: labor/trabajo/acci√≥n, condici√≥n humana, facultad de juzgar, totalitarismo, Eichmann, pensamiento/ausencia de pensamiento, vita activa vs. vita contemplativa", weight: 0.5 },
      { id: "v4", text: "Redacci√≥n clara, coherente y con lenguaje filos√≥fico apropiado; elabora un texto justificativo (no mera enumeraci√≥n) que pone en di√°logo a ambos autores", weight: 0.5 },
    ],
  },
];

const GRADE_OPTIONS = [
  { value: 0, label: "No presente", color: "#ef4444", bg: "#fef2f2" },
  { value: 0.5, label: "Parcial", color: "#f59e0b", bg: "#fffbeb" },
  { value: 1, label: "Correcto", color: "#10b981", bg: "#f0fdf4" },
];

function GradeButton({ option, selected, onClick }) {
  const isSelected = selected === option.value;
  return (
    <button onClick={onClick} style={{ padding: "4px 10px", borderRadius: "6px", border: isSelected ? `2px solid ${option.color}` : "2px solid #e5e7eb", background: isSelected ? option.bg : "#fff", color: isSelected ? option.color : "#6b7280", fontWeight: isSelected ? 700 : 500, fontSize: "12px", cursor: "pointer", transition: "all 0.15s ease", whiteSpace: "nowrap" }}>
      {option.label}
    </button>
  );
}

function ChecklistItem({ item, grade, onGrade }) {
  return (
    <div style={{ display: "flex", alignItems: "flex-start", gap: "12px", padding: "10px 14px", background: grade === 1 ? "#f0fdf4" : grade === 0.5 ? "#fffbeb" : grade === 0 ? "#fef2f2" : "#fafafa", borderRadius: "8px", borderLeft: `3px solid ${grade === 1 ? "#10b981" : grade === 0.5 ? "#f59e0b" : grade === 0 ? "#ef4444" : "#d1d5db"}`, transition: "all 0.2s ease" }}>
      <div style={{ flex: 1, fontSize: "13.5px", color: "#374151", lineHeight: 1.5 }}>
        {item.text}
        <span style={{ color: "#9ca3af", fontSize: "11px", marginLeft: "6px" }}>({item.weight} pt)</span>
      </div>
      <div style={{ display: "flex", gap: "4px", flexShrink: 0 }}>
        {GRADE_OPTIONS.map((opt) => (
          <GradeButton key={opt.value} option={opt} selected={grade} onClick={() => onGrade(item.id, opt.value)} />
        ))}
      </div>
    </div>
  );
}

function Section({ section, grades, onGrade, collapsed, onToggle }) {
  const sectionPoints = section.items.reduce((sum, item) => { const g = grades[item.id]; return g !== undefined ? sum + item.weight * g : sum; }, 0);
  const allGraded = section.items.every((item) => grades[item.id] !== undefined);
  const pct = allGraded ? (sectionPoints / section.maxPoints) * 100 : null;
  return (
    <div style={{ background: "#fff", borderRadius: "12px", boxShadow: "0 1px 3px rgba(0,0,0,0.08)", overflow: "hidden", border: "1px solid #e5e7eb" }}>
      <button onClick={onToggle} style={{ width: "100%", display: "flex", alignItems: "center", justifyContent: "space-between", padding: "14px 18px", background: "none", border: "none", cursor: "pointer", textAlign: "left" }}>
        <div style={{ display: "flex", alignItems: "center", gap: "10px" }}>
          <span style={{ transform: collapsed ? "rotate(-90deg)" : "rotate(0)", transition: "transform 0.2s", fontSize: "12px", color: "#9ca3af" }}>‚ñº</span>
          <span style={{ fontWeight: 700, fontSize: "14px", color: "#1f2937" }}>{section.title}</span>
        </div>
        <div style={{ display: "flex", alignItems: "center", gap: "8px" }}>
          {allGraded && (
            <div style={{ width: "60px", height: "6px", background: "#e5e7eb", borderRadius: "3px", overflow: "hidden" }}>
              <div style={{ width: `${pct}%`, height: "100%", background: pct >= 70 ? "#10b981" : pct >= 40 ? "#f59e0b" : "#ef4444", borderRadius: "3px", transition: "width 0.3s ease" }} />
            </div>
          )}
          <span style={{ fontWeight: 700, fontSize: "13px", color: allGraded ? (pct >= 70 ? "#10b981" : pct >= 40 ? "#f59e0b" : "#ef4444") : "#9ca3af", minWidth: "55px", textAlign: "right" }}>
            {sectionPoints.toFixed(1)} / {section.maxPoints.toFixed(1)}
          </span>
        </div>
      </button>
      {!collapsed && (
        <div style={{ padding: "4px 16px 16px", display: "flex", flexDirection: "column", gap: "6px" }}>
          {section.items.map((item) => (
            <ChecklistItem key={item.id} item={item} grade={grades[item.id]} onGrade={onGrade} />
          ))}
        </div>
      )}
    </div>
  );
}

function App() {
  const [grades, setGrades] = useState({});
  const [collapsed, setCollapsed] = useState({});
  const [studentName, setStudentName] = useState("");
  const [notes, setNotes] = useState("");
  const [copyMsg, setCopyMsg] = useState("");

  const handleGrade = useCallback((itemId, value) => {
    setGrades((prev) => {
      if (prev[itemId] === value) { const next = { ...prev }; delete next[itemId]; return next; }
      return { ...prev, [itemId]: value };
    });
  }, []);

  const toggleSection = useCallback((sectionId) => {
    setCollapsed((prev) => ({ ...prev, [sectionId]: !prev[sectionId] }));
  }, []);

  const totalItems = SECTIONS.reduce((s, sec) => s + sec.items.length, 0);
  const gradedItems = Object.keys(grades).length;
  const totalPoints = SECTIONS.reduce((sum, sec) => sum + sec.items.reduce((s, item) => { const g = grades[item.id]; return g !== undefined ? s + item.weight * g : s; }, 0), 0);
  const maxTotal = 10;
  const allDone = gradedItems === totalItems;

  const getGradeColor = (pts) => { if (pts >= 9) return "#10b981"; if (pts >= 7) return "#34d399"; if (pts >= 5) return "#f59e0b"; if (pts >= 3) return "#f97316"; return "#ef4444"; };
  const getGradeLabel = (pts) => { if (pts >= 9) return "Sobresaliente"; if (pts >= 7) return "Notable"; if (pts >= 5) return "Aprobado"; if (pts >= 3) return "Insuficiente"; return "Muy deficiente"; };

  const resetAll = () => { setGrades({}); setNotes(""); setStudentName(""); setCopyMsg(""); };

  const copyResults = () => {
    let text = "CORRECCI√ìN COMENTARIO DE TEXTO\nSan Agust√≠n, Del libre arbitrio II, I, 2 ‚Äî Di√°logo con Hannah Arendt\n";
    if (studentName) text += "Alumno/a: " + studentName + "\n";
    text += "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n";
    SECTIONS.forEach((sec) => {
      const secPts = sec.items.reduce((s, item) => { const g = grades[item.id]; return g !== undefined ? s + item.weight * g : s; }, 0);
      text += sec.title + ": " + secPts.toFixed(1) + " / " + sec.maxPoints.toFixed(1) + "\n";
      sec.items.forEach((item) => {
        const g = grades[item.id];
        const icon = g === 1 ? "‚úì" : g === 0.5 ? "~" : g === 0 ? "‚úó" : "?";
        const pts = g !== undefined ? (item.weight * g).toFixed(1) : "-";
        text += "  " + icon + " " + item.text + " [" + pts + "/" + item.weight.toFixed(1) + "]\n";
      });
      text += "\n";
    });
    text += "‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n";
    text += "NOTA FINAL: " + totalPoints.toFixed(1) + " / " + maxTotal + "\n";
    if (notes) text += "\nObservaciones: " + notes + "\n";
    navigator.clipboard.writeText(text).then(() => { setCopyMsg("‚úì Copiado"); setTimeout(() => setCopyMsg(""), 2500); });
  };

  return (
    <div style={{ maxWidth: "780px", margin: "0 auto", padding: "24px 16px" }}>
      {/* Header */}
      <div style={{ background: "linear-gradient(135deg, #9333ea, #c026d3)", borderRadius: "16px", padding: "24px", color: "#fff", marginBottom: "20px" }}>
        <h1 style={{ margin: 0, fontSize: "20px", fontWeight: 800 }}>‚úèÔ∏è Correcci√≥n: Comentario de Texto</h1>
        <p style={{ margin: "6px 0 0", opacity: 0.85, fontSize: "14px" }}>San Agust√≠n, <em>Del libre arbitrio</em> II, I, 2 ‚Äî Di√°logo cr√≠tico con <strong>Hannah Arendt</strong></p>
        <div style={{ marginTop: "14px", display: "flex", gap: "10px", flexWrap: "wrap" }}>
          <div style={{ background: "rgba(255,255,255,0.15)", borderRadius: "8px", padding: "6px 12px", fontSize: "12px" }}>b) An√°lisis cr√≠tico con Arendt ‚Äî hasta 8 pts</div>
          <div style={{ background: "rgba(255,255,255,0.15)", borderRadius: "8px", padding: "6px 12px", fontSize: "12px" }}>c) Vocabulario preciso ‚Äî hasta 2 pts</div>
        </div>
        <p style={{ margin: "12px 0 0", opacity: 0.7, fontSize: "11.5px", lineHeight: 1.5 }}>Criterio EVAU: El estudiante debe reconocer el problema, mostrar correctamente el pensamiento de ambos autores y elaborar un breve texto justificativo que los ponga en di√°logo.</p>
      </div>

      {/* Student name */}
      <div style={{ marginBottom: "16px" }}>
        <input type="text" value={studentName} onChange={(e) => setStudentName(e.target.value)} placeholder="Nombre del alumno/a..." style={{ width: "100%", padding: "10px 14px", borderRadius: "10px", border: "1px solid #d1d5db", fontSize: "14px", background: "#fff", boxSizing: "border-box", outline: "none" }} />
      </div>

      {/* Progress */}
      <div style={{ background: "#fff", borderRadius: "12px", padding: "14px 18px", marginBottom: "16px", boxShadow: "0 1px 3px rgba(0,0,0,0.06)", border: "1px solid #e5e7eb" }}>
        <div style={{ display: "flex", justifyContent: "space-between", marginBottom: "8px" }}>
          <span style={{ fontSize: "13px", color: "#6b7280" }}>Progreso: {gradedItems} / {totalItems} √≠tems</span>
          <span style={{ fontSize: "13px", fontWeight: 700, color: getGradeColor(totalPoints) }}>{totalPoints.toFixed(1)} / {maxTotal}</span>
        </div>
        <div style={{ height: "8px", background: "#e5e7eb", borderRadius: "4px", overflow: "hidden" }}>
          <div style={{ width: `${(gradedItems / totalItems) * 100}%`, height: "100%", background: "linear-gradient(90deg, #9333ea, #c026d3)", borderRadius: "4px", transition: "width 0.3s ease" }} />
        </div>
      </div>

      {/* Sections */}
      <div style={{ display: "flex", flexDirection: "column", gap: "12px" }}>
        {SECTIONS.map((section) => (
          <Section key={section.id} section={section} grades={grades} onGrade={handleGrade} collapsed={!!collapsed[section.id]} onToggle={() => toggleSection(section.id)} />
        ))}
      </div>

      {/* Notes */}
      <div style={{ marginTop: "16px" }}>
        <textarea value={notes} onChange={(e) => setNotes(e.target.value)} placeholder="Observaciones generales sobre el comentario..." rows={3} style={{ width: "100%", padding: "12px 14px", borderRadius: "10px", border: "1px solid #d1d5db", fontSize: "13px", background: "#fff", resize: "vertical", boxSizing: "border-box", outline: "none", fontFamily: "inherit" }} />
      </div>

      {/* Final score */}
      <div style={{ marginTop: "16px", background: "#fff", borderRadius: "12px", padding: "20px", boxShadow: "0 1px 3px rgba(0,0,0,0.08)", border: "1px solid #e5e7eb", display: "flex", alignItems: "center", justifyContent: "space-between", flexWrap: "wrap", gap: "12px" }}>
        <div>
          <div style={{ fontSize: "12px", color: "#6b7280", textTransform: "uppercase", letterSpacing: "0.05em" }}>Nota final</div>
          <div style={{ fontSize: "36px", fontWeight: 900, color: allDone ? getGradeColor(totalPoints) : "#9ca3af", lineHeight: 1.1 }}>
            {totalPoints.toFixed(1)}<span style={{ fontSize: "16px", fontWeight: 500, color: "#9ca3af" }}> / 10</span>
          </div>
          {allDone && <div style={{ fontSize: "13px", fontWeight: 600, color: getGradeColor(totalPoints), marginTop: "2px" }}>{getGradeLabel(totalPoints)}</div>}
        </div>
        <div style={{ display: "flex", gap: "8px", flexWrap: "wrap", alignItems: "center" }}>
          {copyMsg && <span style={{ fontSize: "12px", color: "#10b981", fontWeight: 600 }}>{copyMsg}</span>}
          <button onClick={copyResults} disabled={!allDone} style={{ padding: "10px 20px", borderRadius: "8px", border: "none", background: allDone ? "linear-gradient(135deg, #9333ea, #c026d3)" : "#d1d5db", color: "#fff", fontWeight: 700, fontSize: "13px", cursor: allDone ? "pointer" : "not-allowed" }}>üìã Copiar resultados</button>
          <button onClick={resetAll} style={{ padding: "10px 20px", borderRadius: "8px", border: "1px solid #d1d5db", background: "#fff", color: "#6b7280", fontWeight: 600, fontSize: "13px", cursor: "pointer" }}>üîÑ Reiniciar</button>
        </div>
      </div>

      <p style={{ textAlign: "center", fontSize: "11px", color: "#9ca3af", marginTop: "20px" }}>Historia de la Filosof√≠a ¬∑ 2¬∫ Bachillerato ¬∑ EVAU Madrid</p>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
</script>
</body>
</html>
