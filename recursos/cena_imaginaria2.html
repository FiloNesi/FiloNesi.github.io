<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Generador de Guion Filosófico: Popper vs. Kuhn</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    .prose-area {
      background-color: white;
      border-radius: 0.5rem;
      padding: 1.5rem;
      box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    }
    .accordion-content {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease-in-out;
    }
    .idea-spark-btn {
      transition: all 0.2s ease;
    }
    .idea-spark-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    }
  </style>
</head>
<body class="bg-stone-100 text-stone-800">
  <main class="container mx-auto p-4 sm:p-6 lg:p-8 max-w-5xl">
    <header class="text-center mb-10">
      <h1 class="text-3xl sm:text-4xl font-bold text-teal-800 mb-2">Generador de Guion Filosófico</h1>
      <p class="text-lg text-stone-600">Popper vs. Kuhn: La Cena de Filósofos</p>
    </header>

    <!-- SECCIÓN 1: INTRODUCCIÓN Y PERSONAJES -->
    <section id="intro" class="mb-12">
      <div class="prose-area mb-8">
        <h2 class="text-2xl font-bold text-teal-700 mb-4 border-b pb-2">Bienvenido/a</h2>
        <p class="text-stone-700">Esta es una herramienta interactiva para ayudarte a crear un guion teatral o una escena de cómic filosófica.</p>
      </div>
      <div class="grid md:grid-cols-2 gap-8">
        <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-teal-500">
          <h3 class="text-2xl font-bold mb-3 text-stone-800">Karl Popper</h3>
          <p class="text-stone-600">Un filósofo crítico y racionalista. Para él, lo que hace que una teoría sea científica es que pueda ser falsada.</p>
        </div>
        <div class="bg-white p-6 rounded-lg shadow-md border-l-4 border-orange-500">
          <h3 class="text-2xl font-bold mb-3 text-stone-800">Thomas Kuhn</h3>
          <p class="text-stone-600">Un historiador y filósofo de la ciencia. Sostiene que la ciencia opera dentro de paradigmas y cambia mediante revoluciones científicas.</p>
        </div>
      </div>
    </section>

    <!-- SECCIÓN 2: EL ESCENARIO DEL DEBATE -->
    <section id="escenario" class="mb-12 prose-area">
      <h2 class="text-2xl font-bold text-teal-700 mb-6 border-b pb-2">1. Prepara la Escena</h2>
      <div class="grid md:grid-cols-2 gap-6 mb-6">
        <div>
          <label for="titulo" class="block text-sm font-medium text-stone-700 mb-1">Título de la Obra/Escena</label>
          <input type="text" id="titulo" class="w-full p-2 border border-stone-300 rounded-md focus:ring-teal-500 focus:border-teal-500">
        </div>
        <div>
          <label for="lugar" class="block text-sm font-medium text-stone-700 mb-1">Lugar y Atmósfera</label>
          <input type="text" id="lugar" class="w-full p-2 border border-stone-300 rounded-md focus:ring-teal-500 focus:border-teal-500">
        </div>
      </div>
      <div>
        <label class="block text-sm font-medium text-stone-700 mb-2">Elige el Elemento de Tensión (una pseudociencia)</label>
        <div class="flex flex-wrap gap-3">
          <button class="pseudoscience-btn bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full" data-name="Astrología">Astrología</button>
          <button class="pseudoscience-btn bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full" data-name="Homeopatía">Homeopatía</button>
          <button class="pseudoscience-btn bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full" data-name="Ufología">Ufología</button>
          <button class="pseudoscience-btn bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full" data-name="Grafología">Grafología</button>
        </div>
        <div id="provocacion" class="mt-4 p-4 bg-stone-50 rounded-lg border border-stone-200 text-stone-600 min-h-[50px]">
          Selecciona una pseudociencia para ver una posible chispa que inicie la conversación...
        </div>
      </div>
    </section>

    <!-- SECCIÓN 3: ESTRUCTURA TU GUION -->
    <section id="guion" class="mb-12 prose-area">
      <h2 class="text-2xl font-bold text-teal-700 mb-6 border-b pb-2">2. Escribe el Diálogo</h2>
      <div id="accordion-container">
        <!-- Inicio -->
        <div class="accordion-item border-b border-stone-200">
          <button class="accordion-header w-full text-left p-4 font-semibold text-lg hover:bg-stone-50 flex justify-between">
            <span>a) Inicio</span>
            <span>▼</span>
          </button>
          <div class="accordion-content">
            <div class="p-4 bg-stone-50">
              <p class="text-sm text-stone-600 mb-2">¿Cómo se encuentran? ¿Cómo comienza la conversación?</p>
              <textarea id="texto-inicio" rows="6" class="w-full p-2 border border-stone-300 rounded-md" placeholder="Escribe el inicio..."></textarea>
            </div>
          </div>
        </div>
        <!-- Desarrollo -->
        <div class="accordion-item border-b border-stone-200">
          <button class="accordion-header w-full text-left p-4 font-semibold text-lg hover:bg-stone-50 flex justify-between">
            <span>b) Desarrollo y Tensión</span>
            <span>▼</span>
          </button>
          <div class="accordion-content">
            <div class="p-4 bg-stone-50">
              <p class="text-sm text-stone-600 mb-4">Introduce la pseudociencia. Desarrolla los argumentos de Popper y Kuhn.</p>
              <label class="font-semibold text-stone-700">Argumentos de Popper:</label>
              <textarea id="texto-popper" rows="4" class="w-full p-2 border border-stone-300 rounded-md mt-1 mb-2" placeholder="Escribe los argumentos de Popper..."></textarea>
              <button class="idea-spark-btn text-sm bg-teal-100 text-teal-800 py-1 px-3 rounded-full mb-4" data-target="texto-popper" data-idea="¿Es falsable la pseudociencia?">Idea rápida Popper</button>
              <label class="font-semibold text-stone-700">Argumentos de Kuhn:</label>
              <textarea id="texto-kuhn" rows="4" class="w-full p-2 border border-stone-300 rounded-md mt-1 mb-2" placeholder="Escribe los argumentos de Kuhn..."></textarea>
              <button class="idea-spark-btn text-sm bg-orange-100 text-orange-800 py-1 px-3 rounded-full mb-4" data-target="texto-kuhn" data-idea="¿Forma parte de un paradigma la pseudociencia?">Idea rápida Kuhn</button>
            </div>
          </div>
        </div>
        <!-- Cierre -->
        <div class="accordion-item">
          <button class="accordion-header w-full text-left p-4 font-semibold text-lg hover:bg-stone-50 flex justify-between">
            <span>c) Cierre (posible)</span>
            <span>▼</span>
          </button>
          <div class="accordion-content">
            <div class="p-4 bg-stone-50">
              <p class="text-sm text-stone-600 mb-2">¿Llegan a un acuerdo o no? Escribe una conclusión para la escena.</p>
              <textarea id="texto-cierre" rows="4" class="w-full p-2 border border-stone-300 rounded-md" placeholder="Escribe el cierre..."></textarea>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECCIÓN 3: PIDE AYUDA -->
    <section id="escenario" class="mb-12 prose-area">
      <h2 class="text-2xl font-bold text-teal-700 mb-6 border-b pb-2">3. Pide ayuda</h2>
      <div>
        <label class="block text-sm font-medium text-stone-700 mb-2">Puedes pedir ayuda a "Teatro filosófico"</label>
        <div class="flex flex-wrap gap-3">
          <button class="pseudoscience-btn bg-teal-500 hover:bg-teal-600 text-white font-bold py-2 px-4 rounded-full" data-name="Astrología">Teatro Filosófico</button>
      
        </div>
        
      </div>
    </section>

    <!-- SECCIÓN 5: FORMATO Y EXPORTACIÓN -->
    <section id="formato" class="mb-12 prose-area">
      <h2 class="text-2xl font-bold text-teal-700 mb-6 border-b pb-2">3. Da Formato y Genera tu Guion</h2>
      <div class="flex items-center justify-center gap-4 mb-6">
        <span class="font-semibold">Teatro</span>
        <label class="relative inline-flex items-center cursor-pointer">
          <input type="checkbox" id="format-toggle" class="sr-only peer">
          <div class="w-11 h-6 bg-stone-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:bg-teal-500"></div>
        </label>
        <span class="font-semibold">Cómic</span>
      </div>
      <div id="teatro-guide">
        <h4 class="font-bold text-stone-700">Guía para Guion Teatral:</h4>
        <ul class="list-disc list-inside text-sm text-stone-600">
          <li><span class="font-semibold">Acotaciones:</span> Usa paréntesis para describir acciones, gestos, tonos de voz.</li>
          <li><span class="font-semibold">Diálogo:</span> Escribe el nombre del personaje en mayúsculas seguido de dos puntos.</li>
        </ul>
      </div>
      <div id="comic-guide" class="hidden">
        <h4 class="font-bold text-stone-700">Guía para Guion de Cómic:</h4>
        <ul class="list-disc list-inside text-sm text-stone-600">
          <li><span class="font-semibold">Descripción de viñetas:</span> Describe qué se ve en cada cuadro.</li>
          <li><span class="font-semibold">Bocadillos:</span> Indica quién habla y qué dice.</li>
        </ul>
      </div>
      <div class="text-center mt-8">
        <button id="generate-btn" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-8 rounded-lg text-lg shadow-lg">
          Generar Guion Completo
        </button>
      </div>
    </section>

    <!-- SECCIÓN 6: RESULTADO FINAL -->
    <section id="resultado" class="hidden">
      <div class="prose-area">
        <h2 class="text-2xl font-bold text-teal-700 mb-4 border-b pb-2">Tu Guion</h2>
        <p class="text-sm text-stone-600 mb-4">¡Aquí está tu obra maestra! Puedes copiar el texto y pegarlo en tu editor favorito.</p>
        <div id="final-script" class="w-full p-4 bg-stone-50 border border-stone-200 rounded-md whitespace-pre-wrap font-mono"></div>
        <div class="text-center mt-4">
          <button id="copy-btn" class="bg-stone-500 hover:bg-stone-600 text-white font-bold py-2 px-4 rounded-md">Copiar Guion</button>
          <p id="copy-feedback" class="text-sm text-teal-600 mt-2 h-4"></p>
        </div>
      </div>
    </section>

    <footer class="text-center mt-12 text-sm text-stone-500">
      <p>Herramienta de aprendizaje basada en la propuesta de la sesión "La Cena Imaginaria".</p>
    </footer>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const provocaciones = {
        'Astrología': 'Alguien en la cena comenta casualmente: "Soy Leo, por eso soy tan líder". Popper reacciona al instante...',
        'Homeopatía': 'Uno de los comensales pide un remedio homeopático en lugar de un analgésico, afirmando que "lo natural siempre es mejor".',
        'Ufología': 'La conversación deriva hacia los avistamientos de OVNIs. Alguien defiende que son visitas extraterrestres.',
        'Grafología': 'Un invitado se ofrece a analizar la personalidad de los demás a través de su firma, asegurando que es un método científico.'
      };

      const pseudocienceBtns = document.querySelectorAll('.pseudoscience-btn');
      const provocacionDiv = document.getElementById('provocacion');

      pseudocienceBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const name = btn.dataset.name;
          provocacionDiv.textContent = provocaciones[name] || 'Selecciona una pseudociencia...';
          pseudocienceBtns.forEach(b => b.classList.remove('ring-2', 'ring-offset-2', 'ring-teal-500'));
          btn.classList.add('ring-2', 'ring-offset-2', 'ring-teal-500');
        });
      });

      const accordionHeaders = document.querySelectorAll('.accordion-header');
      accordionHeaders.forEach(header => {
        header.addEventListener('click', () => {
          const content = header.nextElementSibling;
          const isOpen = content.style.maxHeight;
          document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = null);
          document.querySelectorAll('.accordion-header span:last-child').forEach(arrow => arrow.textContent = '▼');
          if (!isOpen) {
            content.style.maxHeight = content.scrollHeight + "px";
            header.querySelector('span:last-child').textContent = '▲';
          }
        });
      });

      const ideaSparkBtns = document.querySelectorAll('.idea-spark-btn');
      ideaSparkBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          const targetId = btn.dataset.target;
          const idea = btn.dataset.idea;
          const textarea = document.getElementById(targetId);
          textarea.value += (textarea.value ? '\n' : '') + idea;
        });
      });

      const formatToggle = document.getElementById('format-toggle');
      const teatroGuide = document.getElementById('teatro-guide');
      const comicGuide = document.getElementById('comic-guide');
      formatToggle.addEventListener('change', () => {
        teatroGuide.classList.toggle('hidden');
        comicGuide.classList.toggle('hidden');
      });

      const generateBtn = document.getElementById('generate-btn');
      const resultadoSection = document.getElementById('resultado');
      const finalScriptDiv = document.getElementById('final-script');
      generateBtn.addEventListener('click', () => {
        const titulo = document.getElementById('titulo').value;
        const lugar = document.getElementById('lugar').value;
        const pseudocienciaSeleccionada = document.querySelector('.pseudoscience-btn.ring-2');
        const pseudocienciaTexto = pseudocienciaSeleccionada ? pseudocienciaSeleccionada.dataset.name : "No seleccionada";
        const inicio = document.getElementById('texto-inicio').value;
        const popper = document.getElementById('texto-popper').value;
        const kuhn = document.getElementById('texto-kuhn').value;
        const cierre = document.getElementById('texto-cierre').value;

        let script = `TÍTULO: ${titulo || "Sin Título"}\n`;
        script += `ESCENARIO: ${lugar || "No definido"}\n`;
        script += `ELEMENTO DE TENSIÓN: ${pseudocienciaTexto}\n`;
        script += `-------------------------------------------------------\n\n`;
        script += `### INICIO ###\n\n${inicio || "(Sin contenido)"}\n\n`;
        script += `### DESARROLLO Y TENSIÓN ###\n\n`;
        script += `[Argumentos de Popper]\n${popper || "(Sin contenido)"}\n\n`;
        script += `[Argumentos de Kuhn]\n${kuhn || "(Sin contenido)"}\n\n`;
        script += `### CIERRE ###\n\n${cierre || "(Sin contenido)"}\n`;

        finalScriptDiv.textContent = script;
        resultadoSection.classList.remove('hidden');
        window.scrollTo({ top: resultadoSection.offsetTop, behavior: 'smooth' });
      });

      const copyBtn = document.getElementById('copy-btn');
      const copyFeedback = document.getElementById('copy-feedback');
      copyBtn.addEventListener('click', () => {
        const textToCopy = finalScriptDiv.textContent;
        navigator.clipboard.writeText(textToCopy).then(() => {
          copyFeedback.textContent = '¡Copiado!';
          setTimeout(() => { copyFeedback.textContent = '' }, 2000);
        }).catch(err => {
          copyFeedback.textContent = 'Error al copiar';
        });
      });
    });
  </script>
</body>
</html>
